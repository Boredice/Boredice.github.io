<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>二维码生成</title>
<link rel="shortcut icon" href="images/sode.ico">
<style>
::selection {
	color: #0083ee;
	background: #E9F2FF;
}
::-webkit-scrollbar {
   width: 8px;
   height: 8px;
   background-color: rgba(0,0,0,0.00);
   border-radius: 0px;
}
::-webkit-scrollbar-track {
   border-radius: 0px;
}
::-webkit-scrollbar-thumb {
   border-radius: 0px;
   background-color: rgba(0,0,0,0.2);
}
::-webkit-scrollbar-thumb:hover {
   background-color: rgba(0,0,0,0.3);
}
::-webkit-scrollbar-thumb:active {
   background-color: rgba(0,0,0,0.4);
}
HTML {
	scrollbar-base-color: #D9D9D9;
	scrollbar-track-color: #FFFFFF;
	scrollbar-arrow-color: #D9D9D9;
	scrollbar-shadow-color: #D9D9D9;
}
#qrcode {
	width: 256px;
	height: 256px;
	margin: auto;
	margin-top: 50px;
}
#content {
	text-align: center;
	font-size: 25px;
	word-wrap: break-word;
}
</style>
</head>
<body>
<div id="qrcode"></div>
<p id="content"></p>
</body>
<script src="QRCode.js/qrcode.min.js"></script>
<script>
var search = window.location.search;
if (search !== "" && search.indexOf("?content=") == 0 && search.length > 9)
{
	try
	{
		var content = search.substring(9);
		content = content.replace(/\%hash%/gi, "#");
		var qrcode = new QRCode("qrcode");
		qrcode.makeCode(content);
		document.getElementById("content").innerHTML = content;
	}
	catch
	{
		document.getElementById("qrcode").style.height = "0px";
		document.getElementById("content").innerHTML = "无法生成二维码";
	}
}
else
{
	document.getElementById("qrcode").style.height = "0px";
	document.getElementById("content").innerHTML = "无法生成二维码";
}
</script>
</html>